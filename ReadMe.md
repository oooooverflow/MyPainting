# 《计算机图形学》系统说明书
> 南京大学计算机系 wangsen
## 开发环境
| 操作系统 | 框架基础 | 编程语言 | 编译器 |
|:-:|:-:|:-:|:-:|
| Windows10 | Qt 5.11.0 | C++ | MinGW 32bit |
## 编译
* 编译器：MinGW 32bit
* 二维图元项目编译文件如下：  
![](https://i.imgur.com/qqpP4Pt.png "二维图元编译文件")
* 三维图元项目编译文件如下：  
![](https://i.imgur.com/Mul6Kiq.png "三维图元编译文件")
## 运行说明
* 二维图元项目的可执行文件与相关dll都放在系统工程/二维图元/release文件夹下
* 三维图元项目的可执行文件与相关dll都放在系统工程/三维图元/release文件夹下
* 双击可执行文件即可运行
## 二维图元项目操作说明
### 主窗口菜单
* 菜单栏列表如下：  
![](https://i.imgur.com/9J2FLXk.png "菜单栏")
* 从左到右功能分别是：绘制直线，绘制圆，绘制椭圆，绘制多边形，绘制曲线，区域填充，平移，旋转，缩放，编辑，打开图片，保存图片，裁剪，选择画笔颜色。
* 当鼠标移到图标上时，会有提示，告诉用户这是什么功能。
* 最右方的×号为退出按钮，点击退出按钮，若当前图片还未保存，或已修改则会询问是否保存，并由用户选择保存路径和文件名进行保存。然后退出程序。
* 起源牛，点击则选择了对应的功能。
### 直线
* 点击直线按钮（菜单栏左起第一个）。
* 鼠标点击画布上一点，不松开，拖拽着在画布上移动，画布上会动态绘制出用户鼠标拖动的末端与起始点确定的直线，用户松开鼠标，则绘制好一条直线。后续可进行变换、编辑和裁剪等操作，或者继续绘制新的直线。  
![](https://i.imgur.com/qwGItOM.png "直线绘制")
* 点击平移按钮(菜单栏左起第七个)，旋转按钮(菜单栏左起第八个)，缩放按钮(菜单栏左起第九个)可以对刚绘制的图元进行变换，都需要用户选择功能后在画布上拖拽，变换过程支持实时预览。
* 点击编辑按钮(菜单栏右起第五个)，就会出现直线的控制点，用鼠标点击控制点并拖拽至新的位置，即完成编辑。拖拽过程中的直线支持实时预览。  
![](https://i.imgur.com/Btgyw2e.png "编辑直线")
### 圆
* 点击圆按钮（菜单栏左起第二个）。
* 鼠标点击画布上一点，不松开，拖拽着在画布上移动，画布上会动态绘制出用户鼠标拖动的末端与起始点为直径而确定的圆，用户松开鼠标，则绘制好一个圆。后续可进行变换和编辑等操作，或者继续绘制新的圆。   
![](https://i.imgur.com/hS2miSk.png "圆绘制")
* 点击平移按钮(菜单栏左起第七个)，旋转按钮(菜单栏左起第八个)，缩放按钮(菜单栏左起第九个)可以对刚绘制的图元进行变换，都需要用户选择功能后在画布上拖拽，变换过程支持实时预览。
* 点击编辑按钮(菜单栏右起第五个)，就会出现圆的控制点，用鼠标点击控制点并拖拽至新的位置，即完成编辑。拖拽过程中的圆支持实时预览。  
![](https://i.imgur.com/C3E0qnF.png "编辑圆")
### 椭圆
* 点击椭圆按钮（菜单栏左起第三个）。
* 鼠标点击画布上一点，不松开，拖拽着在画布上移动，以起始点与用户鼠标拖动的末端为对角线可以确定一个矩形，画布上会动态绘制出以该矩形为外接矩形的椭圆，用户松开鼠标，则绘制好一个椭圆。后续可进行变换和编辑等操作，或者继续绘制新的椭圆。
![](https://i.imgur.com/mlbMkBH.png "椭圆绘制")
* 点击平移按钮(菜单栏左起第七个)，旋转按钮(菜单栏左起第八个)，缩放按钮(菜单栏左起第九个)可以对刚绘制的图元进行变换，都需要用户选择功能后在画布上拖拽，变换过程支持实时预览。
* 点击编辑按钮(菜单栏右起第五个)，就会出现椭圆的控制点，用鼠标点击控制点并拖拽至新的位置，即完成编辑。拖拽过程中的椭圆支持实时预览。  
![](https://i.imgur.com/q68HCoC.png "编辑椭圆")
### 多边形
* 点击多边形按钮（菜单栏左起第四个）。
* 多边形的绘制不需要鼠标托转，只需要鼠标连续点击画布，第一次点击会绘制一个点，从第二次点击开始每次点击都会和前一次点击的点相连，直到点击的点与第一个点相聚三个像素点距离以内则形成闭合多边形，绘制完毕。后续可进行变换和编辑等操作，或者继续绘制新的多边形。  
![](https://i.imgur.com/NGGNwoZ.png "多边形绘制")
* 点击平移按钮(菜单栏左起第七个)，旋转按钮(菜单栏左起第八个)，缩放按钮(菜单栏左起第九个)可以对刚绘制的图元进行变换，都需要用户选择功能后在画布上拖拽，变换过程支持实时预览。
* 点击编辑按钮(菜单栏右起第五个)，就会出现多边形的控制点，用鼠标点击控制点并拖拽至新的位置，即完成编辑。拖拽过程中的多边形支持实时预览。  
![](https://i.imgur.com/SxtCQyj.png "编辑多边形")
### 曲线
* 点击曲线按钮（菜单栏左起第五个）。
* 曲线的绘制不需要鼠标托转，只需要鼠标连续点击画布，第一次点击不会绘制任何图形，从第二次点击开始每次点击都会和前面的所有点共同作为控制点绘制曲线。后续可进行变换和编辑等操作。  
![](https://i.imgur.com/mQbNVcQ.png "曲线绘制")  
* 点击平移按钮(菜单栏左起第七个)，旋转按钮(菜单栏左起第八个)，缩放按钮(菜单栏左起第九个)可以对刚绘制的图元进行变换，都需要用户选择功能后在画布上拖拽，变换过程支持实时预览。
* 点击编辑按钮(菜单栏右起第五个)，就会出现曲线的控制点，用鼠标点击控制点并拖拽至新的位置，即完成编辑。拖拽过程中的曲线支持实时预览。  
![](https://i.imgur.com/Tiu43OZ.png "编辑曲线")
### 区域填充
* 点击填充按钮（菜单栏左起第六个）。
* 鼠标点击画布中一个点，就会将选择点周围的点全部涂上画笔的颜色，直到遇到边界。  
![](https://i.imgur.com/I0Mc88H.png "区域填充")
### 裁剪
* 点击裁剪按钮（菜单栏右起第二个）。
* 鼠标左键在画布上拖拽出一个裁剪框，会对刚刚绘制完的直线进行裁剪。  
![](https://i.imgur.com/qVmNtSF.png "裁剪前")  
* 裁剪后效果：  
![](https://i.imgur.com/RntLyAo.png "裁剪后")
### 选择画笔颜色
* 点击颜料箱按钮（右起第一个）。
* 选择好颜色点击确认即可，后面绘制的颜色都是以该颜色都是基于该颜色。  
![](https://i.imgur.com/mGAc34C.png "颜色选择")
### 鼠标右键
* 点击鼠标右键则会强制完成当前图形的绘制，则后续对当前的图形进行编辑时，该图元都已被绘制在了画布上，此设计增加了趣味性。  
![](https://i.imgur.com/1fQ9Zfz.png "鼠标右键")
### 保存
* 点击保存按钮（菜单栏右起第三个）。
* 会打开文件保存窗口，有用户选择保存路径，保存好后可以继续绘制。
### 打开图片按钮
* 点击打开按钮（菜单栏右起第四个）。
* 可以打开jpg和png格式的图片，打开后可以在打开的图片基础上继续绘制图元。
### ×号按钮
* 点击右上角叉号按钮。
* 若图片被修改且未被保存则会询问是否要保存，并由用户选择保存路径和文件名。  
![](https://i.imgur.com/JtRVDq4.png "叉号")
## 三维图元展示及观察项目说明
### 开始项目
* 点击开始工作按钮。  
![](https://i.imgur.com/KDzQ1Va.png "开始工作")
### 三维模型展示
* 开始工作后，进入一个全屏的黑框。按下F键，选择要读取的OFF文件。此处支持路径名中含有中文字符。
![](https://i.imgur.com/JfAYf2q.png "三维模型展示")
### 三维模型观察
* 读取文件后，按键W,A,S,D用于旋转操作，W和S用于上下旋转，A和D用于左右旋转。  
![](https://i.imgur.com/w3YGagJ.png "三维模型旋转")
* 按键O和P用于缩放操作，O用于放大，P用于缩小。  
![](https://i.imgur.com/3frA9W5.png "三维模型缩放")
* 点击右上角叉号退出。
